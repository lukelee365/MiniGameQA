require=function o(c,s,r){function l(e,t){if(!s[e]){if(!c[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var n=s[e]={exports:{}};c[e][0].call(n.exports,function(t){return l(c[e][1][t]||t)},n,n.exports,o,c,s,r)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({CatControl:[function(t,e,i){"use strict";cc._RF.push(e,"c2d63n/nCVLP4C8tJrzq6Ac","CatControl");var a,n=t("GlobalInfo"),o=t("LevelManager");a=cc.Enum({FRONT:0,AWAKEN:1,BACK:2,SLEEP:3,DOWN:4,MINIGAME:5}),cc.Class({extends:cc.Component,properties:{catCurrentState:{default:a.FRONT,type:a},catTeaser:{default:null,type:cc.Node},catTeaserTapControl:{default:null,type:cc.Node},catMeow:[cc.AudioClip],vfx_Fire:{default:null,type:cc.Node},vfx_Flash:{default:null,type:cc.Node},vfx_SpeechBubble:{default:null,type:cc.Node},vfx_AngerBG:{default:null,type:cc.Node},miniGameCatAngerMusic:{type:cc.AudioSource,default:null},timerForChangeCatState:40,miniGameStateCounter:0,miniGameState:0,levelManager:o},onLoad:function(){this.catAnim=this.getComponent(cc.Animation),this.fireAnim=this.vfx_Fire.getComponent(cc.Animation),this.flashAnim=this.vfx_Flash.getComponent(cc.Animation),this.fireAnimState=this.fireAnim.getAnimationState("Fire"),this.fire2AnimState=this.fireAnim.getAnimationState("Fire2"),this.flash1AnimState=this.flashAnim.getAnimationState("Flash1"),this.flash2AnimState=this.flashAnim.getAnimationState("Flash2"),this.catCatchAnimanimState=this.catAnim.getAnimationState("Catch"),this.catCatch2AnimanimState=this.catAnim.getAnimationState("Catch2"),this.catCatch3AnimanimState=this.catAnim.getAnimationState("Catch3")},start:function(){this.generateRandomCatGesture(),this.playCatVoiceAccordingToHappinessLevel(n.CatHappiness),this.catTeaserControl=this.catTeaser.getComponent("TeaserChangeTVContent"),this.vfx_Fire.active=!1,this.vfx_Flash.active=!1,this.vfx_SpeechBubble.active=!1,this.vfx_AngerBG.active=!1;this.node.getComponent(cc.Sprite);this.node.on("touchend",function(t){this.catCurrentState==a.FRONT||(this.catCurrentState==a.BACK?this.catAnim.play("TurnBack"):this.catCurrentState==a.SLEEP&&this.catAnim.play("WaveTail")),this.catCurrentState!=a.MINIGAME&&this.playCatVoiceAccordingToHappinessLevel(n.CatHappiness)},this)},goToSleepState:function(){this.node.getComponent(cc.Sprite);this.catCurrentState==a.FRONT?(this.catAnim.play("FontToBack"),this.scheduleOnce(function(){this.catAnim.play("WakeToSleep")},1)):this.catAnim.play("WakeToSleep"),this.catCurrentState=a.SLEEP},goToMiniGameState:function(){this.catCurrentState=a.MINIGAME,this.catTeaserTapControl.active=!0,this.checkIsCatHappy()||this.catAnim.play("BackToFont"),this.playCatVoiceAccordingToHappinessLevel(n.CatHappiness),this.scheduleOnce(function(){this.catAnim.play("Catch")},3),this.levelManager.resetComboPoint()},goToIdleState:function(){this.playCatVoiceAccordingToHappinessLevel(n.CatHappiness);this.node.getComponent(cc.Sprite);this.catCurrentState==a.SLEEP?(this.catAnim.play("SleepToWake"),this.catCurrentState=a.BACK,this.checkIsCatHappy()&&(this.scheduleOnce(function(){this.catAnim.play("BackToFont")},1),this.catCurrentState=a.FRONT)):this.generateRandomCatGesture()},checkIsCatHappy:function(){return 5<=n.CatHappiness},generateRandomCatGesture:function(){var i=this.node.getComponent(cc.Sprite),t=0;switch(this.checkIsCatHappy()?(this.catCurrentState=a.FRONT,t=0):(this.catCurrentState=a.BACK,t=2),t){case 0:cc.loader.loadRes("CatState/Front",cc.SpriteFrame,function(t,e){i.spriteFrame=e});break;case 1:cc.loader.loadRes("CatState/turn_around",cc.SpriteFrame,function(t,e){i.spriteFrame=e});break;case 2:cc.loader.loadRes("CatState/watchtv_cat",cc.SpriteFrame,function(t,e){i.spriteFrame=e});break;case 3:cc.loader.loadRes("CatState/sleep_cat",cc.SpriteFrame,function(t,e){i.spriteFrame=e})}},showeventSpeechBubble:function(){this.vfx_SpeechBubble.active=!0;this.scheduleOnce(function(){this.vfx_SpeechBubble.active=!1},1)},startBlueFireAnimatiom:function(){this.fire2AnimState.isPlaying||(this.levelManager.miniGameMusic.stop(),this.current=cc.audioEngine.play(this.catMeow[10],!1,1),this.scheduleOnce(function(){this.miniGameCatAngerMusic.play(),this.vfx_Fire.active=!0,this.fireAnim.play("Fire2"),this.vfx_AngerBG.color=new cc.Color(0,61,255,100),this.vfx_AngerBG.active=!0},1))},stopBlueFireAnimation:function(){this.fire2AnimState.isPlaying&&(this.fireAnim.stop("Fire2"),this.vfx_Fire.active=!1,this.vfx_AngerBG.active=!1,this.miniGameCatAngerMusic.stop(),this.levelManager.miniGameMusic.play())},startFireAnimatiom:function(){this.fireAnimState.isPlaying||(this.current=cc.audioEngine.play(this.catMeow[8],!1,1),this.scheduleOnce(function(){this.miniGameCatAngerMusic.play(),this.vfx_Fire.active=!0,this.fireAnim.play("Fire"),this.vfx_AngerBG.color=new cc.Color(255,41,0,100),this.vfx_AngerBG.active=!0,this.levelManager.miniGameMusic.stop()},1))},stopFireAnimation:function(){this.fireAnimState.isPlaying&&(this.fireAnim.stop("Fire"),this.vfx_Fire.active=!1,this.vfx_AngerBG.active=!1,this.miniGameCatAngerMusic.stop(),this.levelManager.miniGameMusic.play())},startFlashAnimatiom:function(){this.flash1AnimState.isPlaying&&this.flash2AnimState.isPlaying||(this.vfx_Flash.active=!0,.5<Math.random()?this.flashAnim.play("Flash1"):this.flashAnim.play("Flash2"))},stopFlashAnimation:function(){(this.flash1AnimState.isPlaying||this.flash2AnimState.isPlaying)&&(this.flashAnim.stop("Flash1"),this.flashAnim.stop("Flash2"),this.vfx_Flash.active=!1)},catChangeToMiniGameStage:function(){var i=this.node.getComponent(cc.Sprite);cc.loader.loadRes("CatState/ReadyToJump",cc.SpriteFrame,function(t,e){i.spriteFrame=e})},catChangeBackToIdle:function(){var i=this.node.getComponent(cc.Sprite);cc.loader.loadRes("CatState/MiniGame",cc.SpriteFrame,function(t,e){i.spriteFrame=e})},playCatVoiceAccordingToHappinessLevel:function(t){if(cc.audioEngine.stop(this.current),5<=t){if(0==(i=Math.floor(2*Math.random()))){var e=Math.floor(6*Math.random())+4;this.current=cc.audioEngine.play(this.catMeow[e],!1,1)}else this.current=cc.audioEngine.play(this.catMeow[10],!1,1)}else{var i=Math.floor(5*Math.random());this.current=cc.audioEngine.play(this.catMeow[i],!1,1)}},checkCatchCatTeaser:function(){var t=this.catTeaserControl.lifeLeft;-10<=this.catTeaser.y&&this.catTeaser.y<=30?t<=0?(this.catTeaserTapControl.active=!1,this.vfx_SpeechBubble.active=!1,this.vfx_AngerBG.active=!1,this.miniGameState=0,this.miniGameStateCounter=0,this.catAnim.stop("Catch"),this.catAnim.stop("Catch2"),this.catAnim.stop("Catch3"),this.catAnim.setCurrentTime(0,"Catch3"),this.catAnim.setCurrentTime(0,"Catch2"),this.catAnim.setCurrentTime(0,"Catch"),this.catAnim.stop(),this.fireAnim.stop(),this.flashAnim.stop(),this.vfx_Fire.active=!1,this.vfx_Flash.active=!1,this.catTeaserControl.fishDead(),this.scheduleOnce(function(){this.catAnim.play("FontIdle"),this.catChangeBackToIdle(),this.levelManager.showMiniGameRewardSummary(),this.catTeaserControl.resetTeaserAnimation(),this.levelManager.resetComboPoint(),this.levelManager.changeGameStateToIdle(),this.catTeaserControl.resetTeaserLife()},1)):this.catTeaserControl.minusLife():0<t&&(this.levelManager.addComboPoint(),this.catTeaserControl.setIsMinusLife(!1))},switchMiniGameCatAnimationState:function(){if(this.catCurrentState==a.MINIGAME){if(0==this.miniGameState){var t=.5*Math.random()+.5;this.scheduleOnce(function(){this.catCatchAnimanimState.speed=1,this.catAnim.play("Catch"),this.catTeaserControl.setIsMinusLife(!0)},t),console.log("State   0")}else if(1==this.miniGameState){t=.3*Math.random()+.2;this.catCatchAnimanimState.speed=1.2,this.scheduleOnce(function(){this.catAnim.play("Catch"),this.catTeaserControl.setIsMinusLife(!0)},t),console.log("State   1")}else if(2==this.miniGameState){t=.5*Math.random()+.5;this.catCatch2AnimanimState.speed=.5,this.scheduleOnce(function(){this.catAnim.play("Catch2"),this.catTeaserControl.setIsMinusLife(!0)},t),console.log("State   2")}else if(3==this.miniGameState){t=2.5*Math.random()+.7;this.catCatch3AnimanimState.speed=1,this.scheduleOnce(function(){this.catAnim.play("Catch3"),this.catTeaserControl.setIsMinusLife(!0)},t),console.log("State   3")}this.miniGameStateCounter++}},switchMiniGameState:function(){if(0==this.miniGameState)6<=this.miniGameStateCounter&&(.4<=(e=(this.miniGameStateCounter-6)/6)&&this.showeventSpeechBubble(),Math.random()<=e&&((t=Math.random())<=.5?(this.startBlueFireAnimatiom(),this.scheduleOnce(function(){this.miniGameState=1},1)):.7<=t?(this.startFireAnimatiom(),this.miniGameState=2):(this.startFireAnimatiom(),this.startFlashAnimatiom(),this.catAnim.stop("Catch"),this.catChangeToMiniGameStage(),this.miniGameState=3),this.miniGameStateCounter=0));else if(1==this.miniGameState){if(6<=this.miniGameStateCounter)if(.4<=(e=(this.miniGameStateCounter-3)/3)&&this.showeventSpeechBubble(),Math.random()<=e)(t=Math.random())<=.4?(this.stopBlueFireAnimation(),this.miniGameState=0):.6<=t?(this.stopBlueFireAnimation(),this.startFireAnimatiom(),this.miniGameState=2):(this.stopBlueFireAnimation(),this.startFireAnimatiom(),this.startFlashAnimatiom(),this.catAnim.stop("Catch"),this.catChangeToMiniGameStage(),this.miniGameState=3),this.miniGameStateCounter=0}else if(2==this.miniGameState){if(3<=this.miniGameStateCounter){var t,e=(this.miniGameStateCounter-4)/4;if(Math.random()<=e)(t=Math.random())<=.5?(this.stopFireAnimation(),this.miniGameState=0):.6<=t?(this.startFlashAnimatiom(),this.catAnim.stop("Catch2"),this.catChangeToMiniGameStage(),this.miniGameState=3):(this.stopFireAnimation(),this.startBlueFireAnimatiom(),this.miniGameState=1),this.miniGameStateCounter=0}}else 3==this.miniGameState&&(this.stopFireAnimation(),this.stopFlashAnimation(),this.stopBlueFireAnimation(),this.catChangeBackToIdle(),this.miniGameState=0,this.miniGameStateCounter=0);this.scheduleOnce(function(){this.switchMiniGameCatAnimationState()},1)}}),cc._RF.pop()},{GlobalInfo:"GlobalInfo",LevelManager:"LevelManager"}],CatDreamPopup:[function(t,e,i){"use strict";cc._RF.push(e,"d30e4zqK6pFtbhJtKqVZd5P","CatDreamPopup");var c=t("GlobalInfo"),a=t("LevelManager");cc.Class({extends:cc.Component,properties:{dreamSprite:{default:null,type:cc.Node},levelManager:a,blocksGridLayout:{default:null,type:cc.Node},hiddenBlocks:{default:null,type:cc.Prefab},source:"",pieces:16,keyBlocks:[],unlockedBlocks:[],isUnlocked:!1,hiddenDreamBlocks:[cc.Node]},onLoad:function(){for(var t=0,e=0;e<5;e++)for(var i=0;i<5;i++){var a=cc.instantiate(this.hiddenBlocks);a.x=a.width*e,a.y=1920-a.height*i,a.parent=this.blocksGridLayout;var n=a.getComponent("HideDreamBlocks");n.parent=this.node,n.index=t,this.hiddenDreamBlocks[t]=a,t++}},start:function(){},loadData:function(t){this.levelManager.updateDreamBoXDescription("点击方块查看梦境");var i=this.dreamSprite.getComponent(cc.Sprite),e="Dream/"+t;this.source=t,cc.loader.loadRes(e,cc.SpriteFrame,function(t,e){i.spriteFrame=e});c.CollectedDream;for(var a=0;a<c.CollectedDream.length;a++)c.CollectedDream[a].source==this.source&&(this.unlockedBlocks=c.CollectedDream[a].unlockedBlocks);for(a=0;a<this.hiddenDreamBlocks.length;a++)this.hiddenDreamBlocks[a].active=!0;for(var n=0;n<this.unlockedBlocks.length;n++)this.hiddenDreamBlocks[this.unlockedBlocks[n]].active=!1},unlockHideBlocks:function(t,e){var i=c.CollectedDream;if(console.log("Points + "+c.ActionPoints),0<c.ActionPoints){c.ActionPoints--,this.levelManager.updateActionPoint(),this.hiddenDreamBlocks[t].active=!1;for(var a=0;a<i.length;a++)if(i[a].source==this.source){c.CollectedDream[a].unlockedBlocks.push(t);var n=i[a].keyBlocks.indexOf(t);if(-1<n&&c.CollectedDream[a].keyBlocks.splice(n,1),c.CollectedDream[a].keyBlocks.length<=0){c.CollectedDream[a].isUnLocked=!0;for(var o=0;o<this.hiddenDreamBlocks.length;o++)c.CollectedDream[a].unlockedBlocks.push(o),this.hiddenDreamBlocks[o].active=!1;this.levelManager.updateDreamBoXDescription("恭喜解锁新梦境")}else c.CollectedDream[a].unlockedBlocks.length>=c.CollectedDream[a].pieces&&(c.CollectedDream[a].isUnLocked=!0,this.levelManager.updateDreamBoXDescription("恭喜解锁新梦境"))}}else console.log("Not Enough Points");this.levelManager.saveGolbalData()}}),cc._RF.pop()},{GlobalInfo:"GlobalInfo",LevelManager:"LevelManager"}],CatTeaser:[function(t,e,i){"use strict";cc._RF.push(e,"329b3Ydd2tNYJPLELoDmekG","CatTeaser"),cc.Class({extends:cc.Component,properties:{catTeaser:{default:null,type:cc.Node},catchedTimes:0,canPulledOut:!1,isCatched:!1},start:function(){this.catAnim=this.catTeaser.getComponent(cc.Animation),this.catTeaserAnimState=this.catAnim.getAnimationState("Pullup"),this.catTeaserControl=this.catTeaser.getComponent("TeaserChangeTVContent"),this.node.on("touchend",function(t){this.isCatched?this.canPulledOut||this.catAnim.play("Struggle"):(this.catTeaserAnimState.isPlaying&&this.catTeaserControl.minusLife(),this.catAnim.play("Pullup"))},this)}}),cc._RF.pop()},{}],CollectiveObjects:[function(t,e,i){"use strict";cc._RF.push(e,"7a84e7FFTZNU4sUwWU1rWkH","CollectiveObjects"),cc.Class({extends:cc.Component,properties:{value:0,canvas:{default:null,type:cc.Node}},onLoad:function(){this.levelManagerControl=this.canvas.getComponent("LevelManager")},start:function(){this.node.on("touchend",function(t){this.levelManagerControl.collectObjects(this.value),this.node.active=!1},this)}}),cc._RF.pop()},{}],Dreams:[function(t,e,i){"use strict";cc._RF.push(e,"d0d97jP445AnbO1+r4jzf3d","Dreams"),cc.Class({extends:cc.Component,properties:{source:"default",pieces:0,keyBlocks:[],unlockedBlocks:[],isUnlocked:!1,imgNode:{default:null,type:cc.Node},imgMask:{default:null,type:cc.Node},catDreamPopup:{default:null,type:cc.Node}},start:function(){this.imgPath="Dream/"+this.source,console.log("Dream"+this.imgPath+"  IsUnLocked "+this.isUnlocked),this.imgMask.active=!this.isUnlocked;var i=this.imgNode.getComponent(cc.Sprite);this.dreamPopUpControl=this.catDreamPopup.getComponent("CatDreamPopup"),cc.loader.loadRes(this.imgPath,cc.SpriteFrame,function(t,e){i.spriteFrame=e}),this.node.on("touchend",function(t){this.openCatDreamPopup()},this)},openCatDreamPopup:function(){this.catDreamPopup.active=!0,this.dreamPopUpControl.loadData(this.source)}}),cc._RF.pop()},{}],FoodContainer:[function(t,e,i){"use strict";cc._RF.push(e,"776c8UwlO9Nq5NP97FJp5kX","FoodContainer"),cc.Class({extends:cc.Component,properties:{bowlType:0,bowlState:0},start:function(){var i=this.node.getComponent(cc.Sprite);this.node.on("touchend",function(t){0==this.bowlState?(0==this.bowlType?cc.loader.loadRes("InteractiveObjecs/full_food_bowl",cc.SpriteFrame,function(t,e){i.spriteFrame=e}):1==this.bowlType&&cc.loader.loadRes("InteractiveObjecs/full_water_bowl",cc.SpriteFrame,function(t,e){i.spriteFrame=e}),this.bowlState=1):1==this.bowlState&&(0==this.bowlType?cc.loader.loadRes("InteractiveObjecs/empty_food_bowl",cc.SpriteFrame,function(t,e){i.spriteFrame=e}):1==this.bowlType&&cc.loader.loadRes("InteractiveObjecs/empty_water_bowl",cc.SpriteFrame,function(t,e){i.spriteFrame=e}),this.bowlState=0)},this)}}),cc._RF.pop()},{}],GlobalInfo:[function(t,e,i){"use strict";cc._RF.push(e,"93ca2tKjypCJrUvPhUYviP0","GlobalInfo"),cc.director.getPhysicsManager().enabled=!0,e.exports={UserName:null,NicknName:null,AvatarURL:null,StoredBackedTime:0,StoredEatingTime:0,StoredDrinkingingTime:0,StoredPlayingTime:0,StoredWatchingTime:0,ActionPoints:0,CatHappiness:6,CatHappinessGoUp:!1,CollectedDream:[]},cc._RF.pop()},{}],HideDreamBlocks:[function(t,e,i){"use strict";cc._RF.push(e,"c7019vdrsVKToJC/qoIlxeW","HideDreamBlocks"),cc.Class({extends:cc.Component,properties:{index:0,parent:{default:null,type:cc.Node}},start:function(){this.node.on("touchend",function(t){1==this.node.active&&this.parent.getComponent("CatDreamPopup").unlockHideBlocks(this.index,this.index)},this)}}),cc._RF.pop()},{}],LevelManager:[function(t,e,i){"use strict";cc._RF.push(e,"16309X6v0dDgbM4Y6yNoRIz","LevelManager");var a,n=t("GlobalInfo");function o(t,e,i,a,n){this.source=t,this.pieces=e,this.keyBlocks=i,this.unlockedBlocks=a,this.isUnLocked=n}a=cc.Enum({IDLE:0,GO_OUT:1,SLEEP:2,MINIGAME:3});var c=[new o("Beach",25,[4,5,6,7,8],[],!1),new o("Batman",25,[4,5,6,7,8],[],!1),new o("BlackCat",25,[4,5,6,7,8],[],!1),new o("CatFish",25,[4,5,6,7,8],[],!1),new o("CloudCat",25,[4,5,6,7,8],[],!1),new o("Dogcat",25,[4,5,6,7,8],[],!1),new o("Fox",25,[4,5,6,7,8],[],!1),new o("Merimaid",25,[4,5,6,7,8],[],!1),new o("Space",25,[4,5,6,7,8],[],!1),new o("TIger",25,[4,5,6,7,8],[],!1)];cc.Class({extends:cc.Component,properties:{cat:{default:null,type:cc.Node},countDownTime:{default:null,type:cc.Node},goOutUI:{default:null,type:cc.Node},sleepBtn:{default:null,type:cc.Node},dreamBtn:{default:null,type:cc.Node},miniGameBtn:{default:null,type:cc.Node},collectiveDreamBubble:{default:null,type:cc.Node},collectiveObject:{default:null,type:cc.Node},catDreamBoxUI:{default:null,type:cc.Node},combosLabelNode:{default:null,type:cc.Node},miniGameScorePopupUI:{default:null,type:cc.Node},minGameRewardedActionPointLabel:{default:null,type:cc.Label},combosLabel:{default:null,type:cc.Label},actionPointLabel:{default:null,type:cc.Label},descriptionDreamBoxLabel:{default:null,type:cc.Label},hiddenDream:{default:null,type:cc.Prefab},catDreamBoxGridLayout:{default:null,type:cc.Node},catDreamPopup:{default:null,type:cc.Node},sunMoonWheel:{default:null,type:cc.Node},currentState:{default:a.IDLE,type:a},tapArea:{default:null,type:cc.Node},catTeaser:{default:null,type:cc.Node},interactiveObjects:{default:null,type:cc.Node},miniGameBackGround:{default:null,type:cc.Node},bgMusic:{type:cc.AudioSource,default:null},miniGameMusic:{type:cc.AudioSource,default:null},playerWaitingTime:10,catHappiness:0,userData:null,comboCount:0},onLoad:function(){this.catControl=this.cat.getComponent("CatControl"),this.loadGolbalData()},start:function(){this.timeCountDownLabel=this.countDownTime.getComponent(cc.Label),this.goOutUI.active=!1,this.countDownTime.active=!1,this.catDreamPopup.active=!1,this.catDreamBoxUI.active=!1,this.collectiveObject.active=!1,this.collectiveDreamBubble.active=!1,this.tapArea.active=!1,this.catTeaser.active=!1,this.combosLabel.string="",this.combosLabelNode.active=!1,this.miniGameScorePopupUI.active=!1,this.miniGameBackGround.active=!1,this.dreamBtn.active=!0,this.bgMusic.play(),this.generatedDream=null,this.updateTimeWheelAccordingToRealTime(),this.schedule(function(){this.updateTimeWheelAccordingToRealTime()},240),this.schedule(function(){10==n.CatHappiness?n.CatHappinessGoUp=!1:tglobalData.CatHappiness,n.CatHappinessGoUp?n.CatHappiness<10&&n.CatHappiness++:0<n.CatHappiness&&n.CatHappiness--},3600)},saveGolbalData:function(){0},loadGolbalData:function(){},changeGameStateToSleep:function(){var t=Math.floor(Math.random()*(10-n.CatHappiness));0==n.CatHappiness&&(t=10),5<=n.CatHappiness||t<=1?(this.currentState=a.SLEEP,this.cat.active=!0,this.catControl.goToSleepState(),this.startCountDown(4*this.playerWaitingTime)):(0<n.CatHappiness&&n.CatHappiness--,console.log("I am not happy")),this.catControl.playCatVoiceAccordingToHappinessLevel(n.CatHappiness)},changeGameStateToGoOut:function(){var t=Math.floor(Math.random()*(10-n.CatHappiness));0==n.CatHappiness&&(t=10),5<=n.CatHappiness||t<=1?(this.goOutUI.active=!0,this.currentState=a.GO_OUT,this.cat.active=!1,this.startCountDown(this.playerWaitingTime)):(0<n.CatHappiness&&n.CatHappiness--,console.log("I am not happy")),this.catControl.playCatVoiceAccordingToHappinessLevel(n.CatHappiness)},changeGameStateToMiniGame:function(){this.miniGameBtn.active=!1,this.bgMusic.stop(),this.miniGameMusic.play(),this.sleepBtn.active=!1,this.tapArea.active=!0,this.catTeaser.active=!0,this.interactiveObjects.active=!1,this.combosLabel.string="",this.combosLabelNode.active=!0,this.cat.active=!0,this.miniGameBackGround.active=!0,this.dreamBtn.active=!1,this.currentState=a.MINIGAME,this.catControl.goToMiniGameState()},changeGameStateToIdle:function(){this.currentState==a.SLEEP?(this.collectiveDreamBubble.active=!0,this.generateRandomDream()):this.currentState==a.GO_OUT?this.collectiveObject.active=!0:this.currentState==a.MINIGAME&&this.onMIniGameFinished(),this.miniGameMusic.stop(),this.bgMusic.play(),this.currentState=a.IDLE,this.cat.active=!0,this.tapArea.active=!1,this.catTeaser.active=!1,this.countDownTime.active=!1,this.goOutUI.active=!1,this.combosLabel.string="",this.combosLabelNode.active=!1,this.miniGameBtn.active=!0,this.sleepBtn.active=!0,this.interactiveObjects.active=!0,this.miniGameBackGround.active=!1,this.dreamBtn.active=!0,this.catControl.goToIdleState()},autoCollectObjectsAndDream:function(){this.collectiveDreamBubble.active&&(collectiveDreamBubble.active=!1,this.collectObjects(0)),this.collectiveObject.active&&(collectiveObject.active=!1,this.collectObjects(1))},generateRandomDream:function(){this.generatedDream=c[Math.floor(Math.random()*c.length)]},collectObjects:function(t){switch(t){case 0:for(var e=!1,i=n.CollectedDream,a=0;a<i.length;a++)i[a].source==this.generatedDream.source&&(n.ActionPoints+=3,e=!0);e||n.CollectedDream.push(this.generatedDream);break;case 1:default:n.ActionPoints+=t}this.saveGolbalData()},loadAllDreamsFromGolbalData:function(){var a=this;this.actionPointLabel.string=n.ActionPoints,this.catDreamBoxGridLayout.removeAllChildren(),n.CollectedDream.forEach(function(t){var e=cc.instantiate(a.hiddenDream),i=e.getComponent("Dreams");i.source=t.source,i.pieces=t.pieces,i.keyBlocks=t.keyBlocks,i.isUnlocked=t.isUnLocked,i.unlockedBlocks=t.unlockedBlocks,i.catDreamPopup=a.catDreamPopup,e.parent=a.catDreamBoxGridLayout}),console.log("ReLoad All Dream"),this.updateDreamBoXDescription("点击方块解锁梦境")},updateActionPoint:function(){this.actionPointLabel.string=n.ActionPoints},showMiniGameRewardSummary:function(){var t=Math.floor(this.comboCount/15),e=15-this.comboCount%15;this.miniGameScorePopupUI.active=!0,this.minGameRewardedActionPointLabel.string="You Score is "+this.comboCount+" You Earn "+t+" to unlock dreams ! "+e+" more to get next action point",n.ActionPoints+=t,this.updateActionPoint()},hideGameRewardSummary:function(){this.miniGameScorePopupUI.active=!1},updateDreamBoXDescription:function(t){this.descriptionDreamBoxLabel.string=t},addComboPoint:function(){this.comboCount++,this.combosLabel.string="Combos "+this.comboCount},resetComboPoint:function(){this.comboCount=0,this.combosLabel.string="Combos "+this.comboCount},getComboCount:function(){return this.comboCount},openCatDreamBoxUI:function(){this.loadAllDreamsFromGolbalData(),this.catDreamBoxUI.active=!0},closeCatDreamBoxUI:function(){this.catDreamBoxUI.active=!1},closeDreamPopUp:function(){this.loadAllDreamsFromGolbalData(),this.catDreamPopup.active=!1},onMIniGameFinished:function(){n.CatHappiness++},updateTimeWheelAccordingToRealTime:function(){var t=new Date,e=15*-(t.getHours()+t.getMinutes()/60);this.sunMoonWheel.rotation=e},startCountDown:function(t){this.countDownTime.active=!0,this.sleepBtn.active=!1,this.miniGameBtn.active=!1,this.tapArea.active=!1,this.catTeaser.active=!1,this.combosLabel.string="",this.combosLabelNode.active=!1;var e=Date.parse(new Date);console.log("Time "+e);var o=1e3*(e/=1e3)+60*t*1e3;n.StoredTime=o,this.callback=function(){var t=(new Date).getTime(),e=o-t,i=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4),n=Math.floor(e%6e4/1e3);this.timeCountDownLabel.string=i+"h "+a+"m"+n+"s",e<=1e3&&(this.changeGameStateToIdle(),this.unschedule(this.callback))},this.schedule(this.callback,1)}}),cc._RF.pop()},{GlobalInfo:"GlobalInfo"}],StartLevel:[function(t,e,i){"use strict";cc._RF.push(e,"87be7kvdeFEhYCBBH7r2mVf","StartLevel");t("GlobalInfo");cc.Class({extends:cc.Component,properties:{},start:function(){},gameStart:function(){this.getUserInfo()},getUserInfo:function(){0}}),cc._RF.pop()},{GlobalInfo:"GlobalInfo"}],TeaserChangeTVContent:[function(t,e,i){"use strict";cc._RF.push(e,"2ccb17mpzRE8ouJrOnH4Shf","TeaserChangeTVContent"),cc.Class({extends:cc.Component,properties:{tvContent:{default:null,type:cc.Node},tvBackground:{default:null,type:cc.Node},catTeaserTapControl:{default:null,type:cc.Node},cat:{default:null,type:cc.Node},fish:{default:null,type:cc.Node},catTeaserLife:5},start:function(){this.counter=0,this.lifeLeft=this.catTeaserLife,this.isMinusLife=!0,this.catTeaserAnim=this.getComponent(cc.Animation),this.catControl=this.cat.getComponent("CatControl")},setIsMinusLife:function(t){this.isMinusLife=t},resetTeaserLife:function(){this.lifeLeft=this.catTeaserLife},minusLife:function(){if(this.isMinusLife)if(0<this.lifeLeft){this.lifeLeft--,this.catTeaserAnim.playAdditive("Struggle"),this.isMinusLife=!1;var t=50*this.lifeLeft;this.fish.color=new cc.Color(255,t,t),console.log("life Minus")}else this.catControl.checkCatchCatTeaser(),this.catTeaserTapControl.active=!1},fishDead:function(){this.catTeaserAnim.setCurrentTime(0,"Struggle"),this.catTeaserAnim.setCurrentTime(0,"Pullup"),this.catTeaserAnim.stop(),this.catTeaserAnim.play("FishDead")},resetTeaserAnimation:function(){null!=this.catTeaserAnim&&(this.catTeaserAnim.setCurrentTime(0,"FishDead"),this.catTeaserAnim.stop())},updateTVContent:function(){this.isMinusLife=!0;var t=Math.floor(4*Math.random()),i=this.tvContent.getComponent(cc.Sprite);switch(t){case 0:cc.loader.loadRes("TVContent/fish_01",cc.SpriteFrame,function(t,e){i.spriteFrame=e});break;case 1:cc.loader.loadRes("TVContent/fish_02",cc.SpriteFrame,function(t,e){i.spriteFrame=e});break;case 2:cc.loader.loadRes("TVContent/fish_03",cc.SpriteFrame,function(t,e){i.spriteFrame=e});break;case 3:cc.loader.loadRes("TVContent/fish_04",cc.SpriteFrame,function(t,e){i.spriteFrame=e})}this.randomlizeTVBackGround()},randomlizeTVBackGround:function(){if(6<=this.counter)switch(this.counter=0,Math.floor(10*Math.random())){case 0:this.tvBackground.color=new cc.Color(236,112,112,191);break;case 1:this.tvBackground.color=new cc.Color(166,128,233,191);break;case 2:this.tvBackground.color=new cc.Color(128,141,233,191);break;case 3:this.tvBackground.color=new cc.Color(128,183,233,191);break;case 4:this.tvBackground.color=new cc.Color(77,167,149,191);break;case 5:this.tvBackground.color=new cc.Color(78,175,106,191);break;case 6:this.tvBackground.color=new cc.Color(80,146,70,191);break;case 7:this.tvBackground.color=new cc.Color(117,150,74,191);break;case 8:this.tvBackground.color=new cc.Color(150,147,74,191);break;case 9:this.tvBackground.color=new cc.Color(150,110,74,191);break;default:this.tvBackground.color=new cc.Color(74,150,86,191)}this.counter++}}),cc._RF.pop()},{}],UISound:[function(t,e,i){"use strict";cc._RF.push(e,"1a74d8V2HJM45KfMX2y6Tdk","UISound"),cc.Class({extends:cc.Component,properties:{UISounds:[cc.AudioClip]},start:function(){},onBtnClicked:function(){this.current=cc.audioEngine.play(this.UISounds[0],!1,1)}}),cc._RF.pop()},{}]},{},["CatControl","CatDreamPopup","CatTeaser","CollectiveObjects","Dreams","FoodContainer","GlobalInfo","HideDreamBlocks","LevelManager","StartLevel","TeaserChangeTVContent","UISound"]);